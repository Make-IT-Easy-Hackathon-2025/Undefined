<p-dialog [(visible)]="visible" [modal]="true" [style]="{width: '90vw', maxWidth: '600px'}" [draggable]="false"
  [resizable]="false" [closeOnEscape]="true" (onHide)="onClose()">

  <ng-template pTemplate="header">
    <h2 class="text-xl font-semibold">{{ 'SETTINGS.TITLE' | translate }}</h2>
  </ng-template>

  <p-tabView>
    <!-- General Settings -->
    <p-tabPanel [header]="'SETTINGS.GENERAL.TITLE' | translate">
      <div class="settings-section">
        <h3 class="text-lg font-medium mb-4">{{ 'SETTINGS.GENERAL.PROFILE' | translate }}</h3>

        <div class="field mb-4">
          <label class="block mb-2">{{ 'SETTINGS.GENERAL.FULL_NAME' | translate }}</label>
          <input pInputText disabled [value]="`${userInfo.firstname} ${userInfo.lastname}`" class="w-full" />
        </div>

        <div class="field mb-4">
          <label class="block mb-2">{{ 'SETTINGS.GENERAL.EMAIL' | translate }}</label>
          <input pInputText [value]="userInfo.email_address" disabled class="w-full" />
        </div>

        <!-- <div class="flex justify-end">
          <p-button [label]="'SETTINGS.GENERAL.SAVE_CHANGES' | translate" (onClick)="saveGeneralSettings()"
            [loading]="isSaving">
          </p-button>
        </div> -->
      </div>
    </p-tabPanel>

    <!-- Subscription & Billing -->
    <p-tabPanel [header]="'SETTINGS.BILLING.TITLE' | translate">
      <div class="settings-section">
        <p-card>
          <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4">
            <div class="mb-4 md:mb-0">
              <h3 class="text-lg font-medium">{{ 'SETTINGS.BILLING.CURRENT_PLAN' | translate }}</h3>
              <!-- <p class="text-surface-600">{{ (userInfo.subscription.plan || 'Free Plan') | titlecase }}</p> -->
            </div>

            <!-- <p-button *ngIf="userInfo.subscription.plan != 'free'" [label]="'SETTINGS.BILLING.MANAGE_SUBSCRIPTION' | translate"
                            (onClick)="openBillingPortal()" styleClass="p-button-outlined">
                        </p-button>

                        <p-button *ngIf="userInfo.subscription.plan == 'free'" [label]="'SETTINGS.BILLING.UPGRADE' | translate"
                            (onClick)="upgradeDialog()" styleClass="p-button-outlined">
                        </p-button> -->
          </div>

          <p-divider></p-divider>

          <div class="billing-history mt-4">
            <h4 class="font-medium mb-3">{{ 'SETTINGS.BILLING.HISTORY' | translate }}</h4>
            <!-- Add billing history table or list here -->
          </div>
        </p-card>
      </div>
    </p-tabPanel>

    <!-- Preferences -->
    <p-tabPanel [header]="'SETTINGS.PREFERENCES.TITLE' | translate">
      <div class="settings-section">
        <div class="field-checkbox mb-4">
          <label class="block mb-2">{{ 'SETTINGS.PREFERENCES.EMAIL_NOTIFICATIONS' | translate }}</label>
          <p-toggleButton [(ngModel)]="preferences.emailNotifications" [onLabel]="'SETTINGS.LABEL.ON' | translate"
            [offLabel]="'SETTINGS.LABEL.OFF' | translate">
          </p-toggleButton>
        </div>

        <div class="field-checkbox mb-4">
          <label class="block mb-2">{{ 'SETTINGS.PREFERENCES.SOUND_EFFECTS' | translate }}</label>
          <p-toggleButton [(ngModel)]="preferences.soundEffects" [onLabel]="'SETTINGS.LABEL.ON' | translate"
            [offLabel]="'SETTINGS.LABEL.OFF' | translate">
          </p-toggleButton>
        </div>

        <!-- <div class="flex justify-end">
          <p-button [label]="'SETTINGS.PREFERENCES.SAVE' | translate" (onClick)="savePreferences()"
            [loading]="isSaving">
          </p-button>
        </div> -->
      </div>
    </p-tabPanel>
  </p-tabView>
</p-dialog>

<!-- <app-plans-dialog #plansDialog (planSelected)="onPlanSelected($event)"></app-plans-dialog> -->